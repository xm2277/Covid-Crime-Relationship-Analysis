[["index.html", "Covid-Crime-Relationship-Analysis Chapter 1 Introduction", " Covid-Crime-Relationship-Analysis Victoria Meng &amp; Jessie Yu 2022-05-02 Chapter 1 Introduction Our project is to focus on how COVID-19 has been progressing in NYC, and how the arrival of COVID changed the crime events in NYC. The motivation behind this is mainly to provide for people on the government side, who are trying to figure out where to prioritize resources if COVID is more severely spreading, and our analysis can also be utilized as a study case for similar pandemic or events like COVID that might happen again in the far far future, specially to assist the government officials to allocate resources in the aspect of crimes. Nonetheless, this project is for the general public audience as well, to those who are curious about COVID exposure and COVID vaccinations, as well as its relation with crime data in NYC. This project have detailed examination towards the spreading of COVID in NYC across time. We also explored the possible correlation between Hate crimes and Shooting incidence in NYC with COVID cases through out the years by each boroughs. "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources Our data sources are from first hand public data source platform. The Covid data is from the NYC Health github website; Crime data is from the NYC Open Data, the Police Department (NYPD). Link to Covid Vaccination Data now-weekly-breakthrough.csv This file contains weekly counts and rates of cases and hospitalizations by vaccination status, and citywide. Data are updated on Thursdays containing data through the Saturday 12 days prior. As of 1/6/2022, data from the week of 12/18/2021 onward include children age 5-11 years. Recent data may be incomplete due to delays in processing the surge in cases and linking to vaccination and hospitalization data. For more detailed explanation, please check out the link provided above. Link to Covid Genernal Data data-by-day.csv This file contains citywide and borough-specific daily counts of probable and confirmed cases. Cases are aggregated by the date of diagnosis. To address variation in the number of cases diagnosed per day, we have included a 7-day average (mean). This is calculated as the average of number of cases on that day and the previous 6 days. This file includes data since February 29, 2020 based on the date that the Health Department classifies as the start of the COVID-19 outbreak in NYC (i.e., date of the first laboratory-confirmed case). For more detailed explanation, please check out the link provided above. Link to Shooting Data NYPD_Shooting_Incident_Data.csv This is a breakdown of every shooting incident that occurred in NYC during the current calendar year. This data is manually extracted every quarter and reviewed by the Office of Management Analysis and Planning before being posted on the NYPD website. Each record represents a shooting incident in NYC and includes information about the event, the location and time of occurrence. In addition, information related to suspect and victim demographics is also included. This data can be used by the public to explore the nature of police enforcement activity. Please refer to the attached data footnotes for additional information about this dataset. For more detailed explanation, please check out the link provided above. Link to NYC Zip Code Boundaries Boundaries for NYC zip codes For more detailed explanation, please check out the link provided above. Link to Hate Crime Data NYPD_Hate_Crimes.csv Dataset containing confirmed hate crime incidents in NYC. For more detailed explanation, please check out the link provided above. "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation library(tidyverse) library(dplyr) library(readr) library(ggplot2) library(devtools) data_by_day &lt;- read_csv(&quot;data/data-by-day.csv&quot;) head(data_by_day) data_by_day_over_areas Dataset: first: the overall view of the summation over the 5 districts(BX, BK, MN, QN, SI) We use the pivot longer method here to transform the dataset into the tidy version. Meanwhile, we clean up so many category names by dropping the prefix(starts with BX, BK, MN, QN, SI) to decrease the size of the dataset. In addition, to keep this transformed dataset clean and as informative as possible, we generate a new variable called areas based on the district the row of recording belongs to. At the same time, we remove all the rows that are the summation of counts over the 5 districts. overall_transform &lt;- data_by_day %&gt;% pivot_longer(!date_of_interest, names_to = &#39;cases&#39;, values_to = &#39;count&#39;) df &lt;- overall_transform %&gt;% mutate(areas = case_when( startsWith(cases, &quot;BX_&quot;) ~ &quot;BX&quot;, startsWith(cases, &quot;BK_&quot;) ~ &quot;BK&quot;, startsWith(cases, &quot;MN_&quot;) ~ &quot;MN&quot;, startsWith(cases, &quot;QN_&quot;) ~ &quot;QN&quot;, startsWith(cases, &quot;SI_&quot;) ~ &quot;SI&quot;, TRUE~ &quot;sum_nyc&quot; )) df1 &lt;- df %&gt;% transform(cases=str_replace(cases,&quot;BX_&quot;,&quot;&quot;)) %&gt;% transform(cases=str_replace(cases,&quot;BK_&quot;,&quot;&quot;)) %&gt;% transform(cases=str_replace(cases,&quot;MN_&quot;,&quot;&quot;)) %&gt;% transform(cases=str_replace(cases,&quot;QN_&quot;,&quot;&quot;)) %&gt;% transform(cases=str_replace(cases,&quot;SI_&quot;,&quot;&quot;)) head(df1) df2 = df1 %&gt;% pivot_wider(names_from = cases, values_from = count) #drop the total_nyc value &amp; include &amp; compare only 5 districts df3 = df2 %&gt;% filter(areas != &quot;sum_nyc&quot;) #drop the incomplete column df3 &lt;- df3[ -c(15) ] write.csv(df3,&quot;/Users/victoriameng/Desktop/untitled folder/data_by_day_over_areas.csv&quot;, row.names = FALSE) Deal with the missing value/NA in the dataset &amp; draw the plot to see the missing pattern: colSums(is.na(df3)) %&gt;% sort(decreasing = TRUE) #consider by the sum: Now_weekly_breakthrough Dataset: To facilitate our analysis on the COVID-19 weekly breakthrough csv file, we first clean all the column names of the dataset. Then we use the pivot longer method to transform all cases columns into row observations and record their values to a new column variable called count. Afterwards, we use the case when function to create a new categorical variable called vacci_status to divide this dataset into three new categories. All case names that start with vaccinated_boosted are classified as fully_vaccinated; all case names that start with vaccinated_unboosted are classified as unboosted; all case names that start with unvaccinated are classified as unboosted; and the others are recorded as nyc_wide(these observations are summarized category which show the total amount of cases shown in the NYC) Afterwards, to keep this dataset tidy and informative, we clean the cases names into a uniform form and we drop useless columns(such as incomplete). Finally, we further divide the dataset into two parts for the results part: one dataset only includes counts on the rate cases; another excludes all the rate observations and only include those counts that recorded in the integer format. now_weekly_breakthrough &lt;- read_csv(&quot;data/now-weekly-breakthrough.csv&quot;) #head(now_weekly_breakthrough) #install.packages(&#39;janitor&#39;) library(janitor) #can be done by simply now_weekly_breakthrough &lt;- clean_names(now_weekly_breakthrough) head(now_weekly_breakthrough) overall_transform1 &lt;- now_weekly_breakthrough %&gt;% pivot_longer(!week_of_diagnosis, names_to = &#39;cases&#39;, values_to = &#39;count&#39;) df5 &lt;- overall_transform1 %&gt;% mutate(vacci_status = case_when( startsWith(cases, &quot;vaccinated_boosted&quot;) ~ &quot;fully_vaccinated&quot;, startsWith(cases, &quot;vaccinated_unboosted&quot;) ~ &quot;unboosted&quot;, startsWith(cases, &quot;unvaccinated&quot;) ~ &quot;unvaccinated&quot;, TRUE~ &quot;nyc_wide&quot; )) df6 &lt;- df5 %&gt;% transform(cases=str_replace(cases,&quot;vaccinated_boosted_&quot;,&quot;&quot;)) %&gt;% transform(cases=str_replace(cases,&quot;vaccinated_unboosted_&quot;,&quot;&quot;)) %&gt;% transform(cases=str_replace(cases,&quot;unvaccinated_&quot;,&quot;&quot;)) %&gt;% transform(cases=str_replace(cases,&quot;citywide_&quot;,&quot;&quot;)) df7 = df6 %&gt;% filter(cases!=&quot;incomplete&quot;) df10 = df7[grepl(&#39;rate&#39;, df7$cases),] df11 = df10 %&gt;% filter(vacci_status != &quot;nyc_wide&quot;) df8 = df7[!grepl(&#39;rate&#39;, df7$cases),] df8 df9 = df8 %&gt;% pivot_wider(names_from = cases, values_from = count) df9 write.csv(df11,&quot;data/now_weekly_breakthrough_rate.csv&quot;, row.names = FALSE) write.csv(df8,&quot;data/now_weekly_breakthrough_transform.csv&quot;, row.names = FALSE) #there is no missing value: # by column colSums(is.na(df8)) %&gt;% sort(decreasing = TRUE) #Further data transformation for plotting data_by_day &lt;- read_csv(&quot;data/data_by_day_transform_dataset.csv&quot;) data_by_day_over_areas &lt;- read_csv(&quot;data/data_by_day_over_areas.csv&quot;) #Total Counts by boroughs data_by_day_totals &lt;- data_by_day %&gt;% select(2:6) %&gt;% pivot_longer(cols = CASE_COUNT:DEATH_COUNT, names_to = &quot;Type&quot;, values_to = &quot;Count&quot;) %&gt;% group_by(areas, Type) %&gt;% summarise(totals = sum(Count)) #By month data_by_month &lt;- data_by_day %&gt;% mutate(date_of_interest = as.Date(date_of_interest, &quot;%m/%d/%Y&quot;), month_of_interest = floor_date(date_of_interest, unit = &quot;month&quot;)) %&gt;% select(c(15,2,3,5,6)) %&gt;% group_by(areas, month_of_interest) %&gt;% summarise(case_total = sum(CASE_COUNT), hospitalized_total = sum(HOSPITALIZED_COUNT), death_total = sum(DEATH_COUNT)) # change death to negative values data_by_month &lt;- data_by_month %&gt;% mutate(death_total = death_total*-1) # only case totals case_total_longer &lt;- data_by_month %&gt;% select(1:3) # removing case_total, only keeping hospitalized and death totals. data_by_month_longer &lt;- data_by_month %&gt;% select(-case_total) %&gt;% pivot_longer(cols = hospitalized_total:death_total, names_to = &quot;types&quot;, values_to = &quot;number&quot;) "],["missing-value.html", "Chapter 4 Missing Value", " Chapter 4 Missing Value "],["results.html", "Chapter 5 Results 5.1 Covid-19 Progression in NYC 5.2 Hate Crime Analysis in NYC After Covid Exposure 5.3 Shooting Incidences Analysis in NYC After Covid Exposure", " Chapter 5 Results Notice: Most of the visualizations below are interactive in a way that more information can be obtained by pointing your cursor on the plots, also you are able to unselect a specific group (or groups) in the legend just by click on it. The followings are the packages we used for making the visualizations in this section. Note that we only kept coding part that are related to making the graphics, please find out more about data manipulation here. library(tidyverse) library(tidyr) library(readr) library(ggplot2) library(plotly) library(dplyr) library(lubridate) library(devtools) library(viridis) library(zoo) library(parcoords) library(hrbrthemes) library(gridExtra) library(ggrepel) library(redav) 5.1 Covid-19 Progression in NYC First of all, let’s get a detailed understanding of how Covid has progressed in NYC since its first confirmed cases on March 1, 2020. g &lt;- ggplot(case_total_longer, aes(x = month_of_interest, y = case_total, fill = areas)) + geom_bar(stat = &quot;identity&quot;) + scale_fill_viridis(discrete = TRUE, option = &quot;D&quot;) + scale_x_date(breaks = &quot;1 month&quot;, date_labels = &quot;%m-%Y&quot;) + theme_bw() + theme(axis.text.x = element_text(angle = 90), plot.title = element_text(hjust = 0.5),panel.background = element_rect(fill = &quot;white&quot;)) + labs(y = &quot;Number of Cases&quot;, x = &quot;Month of Diagnosis&quot;, title = &quot;Number of Cases Diagnosed by Boroughs&quot;) + guides(fill=guide_legend(title=&quot;Boroughs&quot;)) ggplotly(g) The first case of the COVID-19 pandemic in New York City was confirmed on March 1, 2020, by the end of April an approximate total of 174,000 cases were confirmed, arrived to the first peak, New York City had become the worst-affected area in the United States. Seven months later, around November 2020 starts inclining and second peak arrived on January 2021; third peak happened on December 2021. Later in our crime analysis, we will recall these time slots as reference of comparison. Besides case totals, let’s check out the number of hospitalized cases and death cases in NYC. p &lt;- ggplot(data_by_month_longer, aes(x = month_of_interest, y = number, group = types, fill = areas)) + geom_bar(stat = &quot;identity&quot;) + scale_fill_viridis(discrete = TRUE, option = &quot;D&quot;) + scale_x_date(breaks = &quot;1 month&quot;, date_labels = &quot;%m-%Y&quot;) + geom_hline(yintercept=0, color = &quot;white&quot;, size = 0.15) + theme_bw() + theme(axis.text.x = element_text(angle = 90), plot.title = element_text(hjust = 0.5),panel.background = element_rect(fill = &quot;white&quot;)) + labs(y = &quot;Number of Hospitalized and Death Cases&quot;, x = &quot;Month of Diagnosis&quot;, title = &quot;Number of Hospitalized and Death Cases Diagnosed by Boroughs&quot;) + guides(fill=guide_legend(title=&quot;Boroughs&quot;)) ggplotly(p) The above diverging stacked bar chart shows the number of hospitalized cases and death Cases by boroughs since the fist confirmed case in NYC. Positive values represent the number of hospitalized cases, and negative values represent the number of death Cases. There were over a total of 14,800 deaths by the end of April since the fist case confirmed; In general, death cases and hospitalized cases are declined, after first dose of Covid-19 vaccine became available on December 14, 2020. Recall from the confirmed cases histogram plot above, even though the confirmed cases in the second peak and the third peak surpassed the first peak, death cases and hospitalized cases did not grow correspondingly. Vaccination might helped people not to get sever Covid-19 symptoms. p &lt;- ggplot(case_total_longer, aes(x = month_of_interest, y = case_total, group = areas, color = areas)) + geom_line() + scale_color_viridis(discrete = TRUE, option = &quot;G&quot;) + scale_x_date(breaks = &quot;1 month&quot;, date_labels = &quot;%m-%Y&quot;) + theme_bw() + theme(axis.text.x = element_text(angle = 90), plot.title = element_text(hjust = 0.5),panel.background = element_rect(fill = &quot;white&quot;)) + labs(y = &quot;Number of Cases&quot;, x = &quot;Month of Diagnosis&quot;, title = &quot;Number of Cases Diagnosed by Boroughs&quot;) + guides(color=guide_legend(title=&quot;Borough&quot;)) ggplotly(p) It is clear to observe that Brooklyn and Queens have roughly similar number of confirmed case from Feb 2020 to June 2021; later, from June 2021, confirmed cases in Brooklyn surpassed those in Queens, the highest number of confirmed cases among all five boroughs. However, we need to take the population in each borough into consideration. From Wikipedia, Brooklyn’s population (2020): 2,736,074; Queens’s population (2020): 2,405,464; Manhattan’s population (2020): 1,694,251; Bronx’s population (2020): 1,472,654; Staten Island’s population (2020): 495,747. case_rate_longer &lt;- data_by_month %&gt;% select(1:3) case_rate_longer$population &lt;- ifelse(case_rate_longer$areas == &quot;BK&quot;, 2736074, ifelse(case_rate_longer$areas == &quot;BX&quot;, 1472654, ifelse(case_rate_longer$areas == &quot;MN&quot;, 1694251, ifelse(case_rate_longer$areas == &quot;QN&quot;, 2405464, 495747)))) case_rate_longer &lt;- case_rate_longer %&gt;% mutate(case_rate = (case_total/population)*100000) # per 100,000 people p &lt;- ggplot(case_rate_longer, aes(x = month_of_interest, y = case_rate, group = areas, color = areas)) + geom_line() + scale_color_viridis(discrete = TRUE, option = &quot;G&quot;) + scale_x_date(breaks = &quot;1 month&quot;, date_labels = &quot;%m-%Y&quot;) + theme_bw() + theme(axis.text.x = element_text(angle = 90), plot.title = element_text(hjust = 0.5),panel.background = element_rect(fill = &quot;white&quot;)) + labs(y = &quot;Case Rates&quot;, x = &quot;Month of Diagnosis&quot;, title = &quot;Diagnosed Case Rate (per 100,000) by Boroughs&quot;) + guides(color=guide_legend(title=&quot;Borough&quot;)) ggplotly(p) Now, the line plot above is modified by population of each boroughs. Staten Island is leading instead of Brooklyn or Queens after first peak of Covid-19 exposure. However, for general audience the one without modifying would be more straightforward to look at. p &lt;- ggplot(data = breakthrough, aes(x = week_of_diagnosis, y = count, group = vacci_status, color = vacci_status)) + geom_line() + scale_color_viridis(discrete = TRUE, option = &quot;D&quot;) + scale_x_date(breaks = &quot;1 week&quot;, date_labels = &quot;%d-%b&quot;) + theme_bw() + theme(axis.text.x = element_text(angle = 90), plot.title = element_text(hjust = 0.5, size = 12),panel.background = element_rect(fill = &quot;white&quot;))+ labs(y = &quot;count&quot;, x = &quot;Week of Diagnosis&quot;, title = &quot;Number of Cases, Deaths, Hospitalized Diagnosed by Vaccination Status&quot;) + guides(color=guide_legend(title=&quot;Vaccination Status&quot;)) + facet_wrap(~cases, scales = &quot;free&quot;) ggplotly(p)%&gt;% layout(title = list(y = 0.97, xref = &quot;plot&quot;), margin=list(t = 75)) The timeline of data for the above plot is starting a bit after when Covid-19 booster vaccine is available to the general public until most recent. Full-vaccinated is defined as vaccinated first two shots of Covid-19 vaccines and Covid-19 Booster; Un-boosted is defined as only toke first two shots of Covid-19 vaccines; Un-vaccinated is defined as no vaccination at all. Notice that the scale for ‘count’, y-axis, is not a common scale. (if we set it to be a common scale, for death count and hospitalized count, it would be hard to discover their trends with case count on the side.) Quite unexpected to discover that the number of confirmed cases diagnosed for fully vaccinated people is greater than those of the other two, followed by un-boosted, then un-vaccinated, which makes us wonder whether the vaccines indeed have an effect on Covid-19 prevention. However, we can observe a lower number of people who are fully vaccinated appear in death count and hospitalized count. Un-vaccinated people has relative higher number of cases in death and hospitalization. Similar as what is mentioned above, vaccination might not perfectly prevent people from getting Covid, instead, it helps people to not get the sever symptoms that causes hospitalization or even death. p &lt;- ggplot(data = breakthrough2, aes(x = week_of_diagnosis, y = rate, group = vacci_status, color = vacci_status)) + geom_line() + scale_color_viridis(discrete = TRUE, option = &quot;D&quot;) + scale_x_date(breaks = &quot;1 week&quot;, date_labels = &quot;%d-%b&quot;) + theme_bw() + theme(axis.text.x = element_text(angle = 90), plot.title = element_text(hjust = 0.5, size = 12),panel.background = element_rect(fill = &quot;white&quot;))+ labs(y = &quot;Rate&quot;, x = &quot;Week of Diagnosis&quot;) + ggtitle(paste(&quot;Rate of Cases, Deaths, Hospitalized Diagnosed &lt;br&gt;&quot;, &quot;per 100,000 people by Vaccination Status &lt;br&gt;&quot;, sep = &quot;&quot;)) + guides(color=guide_legend(title=&quot;Vaccination Status&quot;)) + facet_wrap(~cases, scales = &quot;free&quot;) ggplotly(p) %&gt;% layout(title = list(y = 0.97, xref = &quot;plot&quot;), margin=list(t = 75)) Now, we look at the rate of cases, deaths, and hospitalized diagnosed per 100,000 people by vaccination status. This makes more sense, un-vaccinated people has the highest case rate, death rate, and hospitalization rate. Fully vaccinated people still has higher case rate, however, lower death rate and lower hospitalization rate. We also used the Parallel Coordinate Plot to view the change of CASE_COUNT, PROBABLE_CASE_COUNT, HOSPITALIZED_COUNT, DEATH_COUNT by the five boroughs, the Bronx, Brooklyn, Manhattan, Queens, and Staten Island, in NYC. parcoords(covid_data, color = list(colorBy = &quot;Date&quot;, colorScale = &quot;scaleOrdinal&quot;, colorScheme = &quot;schemeCategory10&quot;), rownames = FALSE, brushMode = &quot;2D-axes&quot;, alpha = 0.3, withD3 = TRUE, width = 900, height = 500) The line’s color is defined by different months in year 2020. It is quite clear that since Feb 2020 to Nov 2020, the probable case count in the SI, QN, MN, BX, BK are mostly around 5,000 and 10,000. The peak of the probable case count occurs in the Jan 2020 and Dec 2020. It makes sense that the probable case count and case count generally have a positive correlation. Meanwhile, it is also rational to see that for most cases, high case count are positive correlated with high hospitalized count and the variable hospitalized count has a general negative correlation with the death count. However, there is some abnormal trend: in Apr 2020, it has generally low sum of case count, but the high hospitalized count and the death count reaches the peak within the whole year. After Apr 2020, the case count generally decreases; hospitalized count remains at high values and death count drops significantly since then(The time coincides with the occurrence of COVID-19 flu shots). 5.2 Hate Crime Analysis in NYC After Covid Exposure We aggregated the data based on ‘Bias Type’, which consists of 22 types of bias in hate crime, and sorted the total number of cases in each type of bias. The following four types have the highest frequencies over the years. ## # A tibble: 4 × 2 ## Bias bias_sum_count ## &lt;chr&gt; &lt;dbl&gt; ## 1 ANTI-JEWISH 592 ## 2 ANTI-ASIAN 178 ## 3 ANTI-MALE HOMOSEXUAL (GAY) 158 ## 4 ANTI-BLACK 114 p &lt;- ggplot(hate_top_4, aes(x = month_of_interest, y = count, group = County, color = County)) + geom_line() + geom_point(size = 0.6) + scale_color_viridis(discrete = TRUE, option = &quot;G&quot;) + scale_x_date(breaks = &quot;2 month&quot;, date_labels = &quot;%m-%Y&quot;) + geom_vline(xintercept = as.numeric(as.Date(c(&#39;2020-03-01&#39;, &#39;2020-04-01&#39;, &#39;2021-01-01&#39;))), size = 0.2, color = &quot;red&quot;) + theme_bw() + theme(axis.text.x = element_text(size = 7, angle = 90), plot.title = element_text(hjust = 0.5),panel.background = element_rect(fill = &quot;white&quot;)) + labs(y = &quot;Number of Cases&quot;, x = &quot;Month of Statement&quot;, title = &quot;Number of Hate Crimes towards Anti-Asian by Boroughs&quot;) + guides(color=guide_legend(title=&quot;Borough&quot;)) + facet_wrap(~Bias) ggplotly(p) Among all discrimination, most four discrimination toward races and sexual orientations over the years from Jan 2019 to Dec 2021 are anti-Jewish (total of 130 cases), anti-Black (total of 78 cases), anti-Male Homosexual (total of 75 cases), and anti-Asian (total of 51 cases). Three red lines presenting in the above plots representing first case confirmed month in NYC, first peak in April 2020, and second peak Jan 2021. Anti-Black and Anti-Male Homosexual discrimination are relative stable over the years, Anti-Jewish is fluctuated since Jan 2019, seems to have no pattern and no relation with Covid-19, except that between first peak and second peak of Covid exposure, discrimination towards Jewish got a bot eased off. However, Anti-Asian discrimination events only happened 3 times before first case of Covid-19 is confirmed in NYC. After Covid, we heard from the news and elsewhere about how Covid is started from Asian, which might still in debate. On the month of first case confirmed in NYC, discrimination towards Asian instantly rise to the first peak when Covid first hit NYC, with 1 discrimination event happened in Queens, 4 in Brooklyn, 6 in Manhattan; More significantly, around Jan 2021, when Covid cases are at its peak, the second round of Asian Hate Crime surge to an unprecedented record high. And by location, we can see that Manhattan has the highest occurrences of hate crimes towards Asian. After grouping the original crime dataset by County variable and using the pivot_wider data transformation over the Bias variable, we calculate the total sum of bias counts in each region to figure out NYC bias toward various minority group of people by five boroughs over the years. draw_biplot(hate_data,&quot;ANTI-ASIAN&quot;) Based on the result of our PCA analysis, the vectors in the biplot are the indicators and the points refers to the five boroughs in NYC. ANTI-ASIAN variable is calibrated as our whole analysis focuses on the COVID-19 effects on the number of crimes and the overall influence over the people, especially those minority groups shown in the graph. The order of severity of bias on Asian people in NYC is learnt to be SI, BX, QN, BK and MN(order from low to high). Meanwhile, most bias variables are positive correlated with the ANTI-ASIAN variable. ggplot(cleveland_data, aes(x = count, y = reorder(County, count),color = County)) + geom_point() + facet_grid(year ~ ., scales = &quot;free_y&quot;, space = &quot;free_y&quot;) + ggtitle(&#39;NYC Bias Change Before &amp; After the occurance of Covid-19&#39;) + xlab(&quot;count&quot;) + ylab(&#39;&#39;) + theme_linedraw() + theme(panel.grid.major.x = element_blank(), panel.grid.minor.x = element_blank()) In the Cleveland dot plot, we use County and Year as two facets to draw the total sum of all kinds of biases over MN, BK, QN, BX and SI in NYC. It is not hard to tell that based on the plot, the overall trend of the total number of biases over the five counties decrease first from 2019 to 2020 and increase a lot from 2020 to 2021. It is quite rational as the COVID-19 makes its first appearance in 2020, but most people have to quarantine at home. After that, when it comes to 2021, the popularity of flu shots bring most people back to normal life and the counts of biases rise a lot since the COVID-19. It is not hard to tell that the COVID-19 does have influence over people’s behavior and can driven the increase of crimes(bias in our study). p &lt;- bubble_data %&gt;% mutate(pop=round(count,2)) %&gt;% arrange(desc(pop)) %&gt;% mutate(text = paste(&quot;Date: &quot;, Date, &quot;\\nBias: &quot;, Bias, &quot;\\nCount: &quot;, count, sep=&quot;&quot;)) %&gt;% ggplot(aes(x=Date, y=count, size = pop, color = Bias, text=text)) + geom_point(alpha=0.4) + scale_size(range = c(1, 20), name=&quot;count&quot;) + scale_color_viridis(discrete=TRUE, guide=FALSE) + ggtitle(&quot;Different Bias counts in NYC from 2019 to 2021&quot;) + theme_ipsum() + theme(legend.position=&quot;none&quot;) + theme(axis.text.x = element_text(angle = 90)) + theme( panel.grid.major.y = element_blank(), panel.grid.major.x = element_blank() ) ggplotly(p, tooltip=&quot;text&quot;) The bubble plot is also interactive and can show us the counts over different biases in NYC wide since Jan 2019 to Dec 2021. The size and color of bubbles in the plot are defined by the count of biases and the group of biases. It it quite obvious that the general trend of counts of different biases in NYC decreases at first, and then increases a lot. The result provides consistent findings like the Cleveland dot plot with facets, COVID-19 does have influence over the number of biases in NYC, that the general pattern of the counts of different biases increases a lot after its appearance. 5.3 Shooting Incidences Analysis in NYC After Covid Exposure overall &lt;- shooting_all_overall %&gt;% ggplot(aes(x = OCCUR_YM, y = count, group = BORO, color = BORO)) + geom_line()+ scale_color_viridis(discrete = TRUE, option = &quot;G&quot;) + scale_x_date(breaks = &quot;1 year&quot;, date_labels = &quot;%b-%y&quot;) + labs(y = &quot;Number of Shooting Occurred&quot;, x = &quot;Date&quot;, title = &quot;NYC Shooting Occurrence Since 2006&quot;) + geom_vline(xintercept = as.numeric(as.Date(c(&#39;2020-03-01&#39;, &#39;2020-04-01&#39;, &#39;2021-01-01&#39;))), size = 0.2, color = &quot;red&quot;) + guides(color=guide_legend(title=&quot;Location&quot;)) + theme_bw() + theme(axis.text.x = element_text(angle = 45), axis.text.y = element_text(angle = 45), plot.title = element_text(hjust = 0.5),panel.background = element_rect(fill = &quot;white&quot;)) overall_shooting &lt;- ggplotly(overall, width = 800) overall_shooting Look more closely during the covid period: The first case of the COVID-19 pandemic in New York City was confirmed on March 1, 2020. Three red lines presenting in the above plots representing first case confirmed month in NYC, first peak in April 2020, and second peak Jan 2021. covid &lt;- shooting_all_covid %&gt;% ggplot(aes(x = OCCUR_YM, y = count, group = BORO, color = BORO)) + geom_line()+ scale_color_viridis(discrete = TRUE, option = &quot;G&quot;) + scale_x_date(breaks = &quot;1 month&quot;, date_labels = &quot;%b-%y&quot;) + labs(y = &quot;Number of Shooting Occurred&quot;, x = &quot;Date&quot;, title = &quot;NYC Shooting Occurrence During Covid&quot;) + guides(color=guide_legend(title=&quot;Location&quot;)) + geom_vline(xintercept = as.numeric(as.Date(c(&#39;2020-03-01&#39;, &#39;2020-04-01&#39;, &#39;2021-01-01&#39;))), size = 0.2, color = &quot;red&quot;) + theme_bw() + theme(axis.text.x = element_text(angle = 45), axis.text.y = element_text(angle = 45), plot.title = element_text(hjust = 0.5),panel.background = element_rect(fill = &quot;white&quot;)) covid_shooting &lt;- ggplotly(covid, width = 800) covid_shooting In the next interactive section we will make a geographical heat map using the number of shootings by modified zip code, and arranged by month since March 1, 2020. We will demonstrate more detailed analysis in the interactive section. "],["interactive-component.html", "Chapter 6 Interactive component 6.1 Shooting Incidences Analysis Continued", " Chapter 6 Interactive component 6.1 Shooting Incidences Analysis Continued The link below contains interactive plots that compares shooting cases before and after COVID-19 started. More detailed analysis can be find in the link. Link to Shiny "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion Main takeaways of our exploration： Recall important timelines: March 1, 2020, first case confirmed month in NYC; April 2020, first peak since COVID exposure; January 2021, second peak of COVID. Brooklyn and Queens are the worst-affected area in NYC, followed by Manhattan, then Bronx, then Staten Island. Vaccinations might not prevent people getting COVID, instead it could reduce the severity of COVID symptoms which lowers the death rate and hospitalization rate. After COVID exposure, we observed noticeable incline of hate crimes in NYC towards Asian group after all three timelines related to COVID cases mentioned above, especially in Manhattan, Queens, and Brooklyn. While other types of bias does not seem to be affected by COVID exposure. Lastly, shooting incidences drastically increased after the arrive of COVID. Apart from Staten Island, all other four boroughs has surpassed preceding years since 2006. Shooting cases in other four boroughs generally inclined, but not as significant as Brooklyn. Limitations &amp; Future directions: We have analyzed the changes in hate crime and shooting incidence in NYC after COVID exposure, and indeed there are patterns to look for. However, we can not be sure that whether this is a causal relationship. Further investigation and research, as well as other statistical methods, should be applied to examine the causal effect. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
